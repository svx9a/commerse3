{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }

  .services-{{ section.id }} {
    background: rgb(var(--color-base-background-2));
  }

  .services-{{ section.id }} .services__header {
    text-align: center;
    margin-bottom: 6rem;
  }

  .services-{{ section.id }} .services__title {
    font-size: clamp(2rem, 5vw, 4rem);
    font-weight: 600;
    margin-bottom: 2rem;
    color: rgb(var(--color-base-text));
  }

  .services-{{ section.id }} .services__subtitle {
    font-size: clamp(1.1rem, 2.5vw, 1.5rem);
    color: rgba(var(--color-base-text), 0.8);
    max-width: 60rem;
    margin: 0 auto;
    line-height: 1.6;
  }

  .services-{{ section.id }} .services__grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 3rem;
  }

  .services-{{ section.id }} .service-card {
    background: rgba(var(--color-base-text), 0.02);
    border: 1px solid rgba(var(--color-base-text), 0.1);
    border-radius: 1rem;
    padding: 3rem 2rem;
    text-align: center;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .services-{{ section.id }} .service-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(var(--color-base-text), 0.05), transparent);
    transition: left 0.5s ease;
  }

  .services-{{ section.id }} .service-card:hover::before {
    left: 100%;
  }

  .services-{{ section.id }} .service-card:hover {
    transform: translateY(-10px);
    border-color: rgba(var(--color-base-text), 0.2);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
  }

  .services-{{ section.id }} .service-card__icon {
    width: 4rem;
    height: 4rem;
    margin: 0 auto 2rem;
    background: rgba(var(--color-base-text), 0.1);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: rgb(var(--color-base-text));
  }

  .services-{{ section.id }} .service-card__title {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: rgb(var(--color-base-text));
  }

  .services-{{ section.id }} .service-card__description {
    color: rgba(var(--color-base-text), 0.7);
    line-height: 1.6;
    margin-bottom: 2rem;
  }

  .services-{{ section.id }} .service-card__link {
    display: inline-flex;
    align-items: center;
    color: rgb(var(--color-base-text));
    font-weight: 500;
    text-decoration: none;
    transition: all 0.3s ease;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .services-{{ section.id }} .service-card__link:hover {
    color: rgba(var(--color-base-text), 0.7);
  }

  .services-{{ section.id }} .service-card__link::after {
    content: '→';
    margin-left: 0.5rem;
    transition: transform 0.3s ease;
  }

  .services-{{ section.id }} .service-card__link:hover::after {
    transform: translateX(5px);
  }

  @media screen and (max-width: 749px) {
    .services-{{ section.id }} .services__header {
      margin-bottom: 4rem;
    }

    .services-{{ section.id }} .services__grid {
      grid-template-columns: 1fr;
      gap: 2rem;
    }

    .services-{{ section.id }} .service-card {
      padding: 2rem 1.5rem;
    }
  }
{%- endstyle -%}

<div class="services-{{ section.id }} color-{{ section.settings.section_color_scheme }} gradient section-{{ section.id }}-padding">
  <div class="page-width">
    {%- if section.settings.title != blank or section.settings.subtitle != blank -%}
      <div class="services__header">
        {%- if section.settings.title != blank -%}
          <h2 class="services__title inline-richtext">
            {{ section.settings.title }}
          </h2>
        {%- endif -%}
        {%- if section.settings.subtitle != blank -%}
          <div class="services__subtitle rte">
            {{ section.settings.subtitle }}
          </div>
        {%- endif -%}
      </div>
    {%- endif -%}

    {%- if section.blocks.size > 0 -%}
      <div class="services__grid">
        {%- for block in section.blocks -%}
          {%- case block.type -%}
            {%- when 'service' -%}
              <div class="service-item glass-morphism glossy-card" {{ block.shopify_attributes }}>
                <div class="service-icon">
                  {% if block.settings.icon_svg != blank %}
                    {{ block.settings.icon_svg }}
                  {% else %}
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                      <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                      <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                    </svg>
                  {% endif %}
                </div>
                
                <h3 class="service-title">{{ block.settings.title }}</h3>
                <p class="service-description">{{ block.settings.description }}</p>
                
                {% if block.settings.button_label != blank %}
                  <a href="{{ block.settings.button_link | default: '#' }}" class="service-button btn btn--secondary interactive-element glossy-button">
                    {{ block.settings.button_label }}
                  </a>
                {% endif %}
              </div>
          {%- endcase -%}
        {%- endfor -%}
      </div>
    {%- endif -%}
  </div>
</div>

{% schema %}
{
  "name": "Services Grid",
  "tag": "section",
  "class": "services-grid",
  "settings": [
    {
      "type": "header",
      "content": "Section Content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Section Heading",
      "default": "Our Services"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Section Subheading",
      "default": "For brands that want more. More customers. More growth. More results."
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Section Description",
      "info": "Optional additional content below subheading"
    },
    {
      "type": "header",
      "content": "Layout Settings"
    },
    {
      "type": "select",
      "id": "grid_columns_desktop",
      "label": "Desktop Columns",
      "options": [
        {
          "value": "2",
          "label": "2 Columns"
        },
        {
          "value": "3",
          "label": "3 Columns"
        },
        {
          "value": "4",
          "label": "4 Columns"
        }
      ],
      "default": "3"
    },
    {
      "type": "select",
      "id": "grid_columns_mobile",
      "label": "Mobile Columns",
      "options": [
        {
          "value": "1",
          "label": "1 Column"
        },
        {
          "value": "2",
          "label": "2 Columns"
        }
      ],
      "default": "1"
    },
    {
      "type": "range",
      "id": "grid_gap",
      "label": "Grid Gap",
      "min": 10,
      "max": 60,
      "step": 5,
      "default": 30,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "Card Styling"
    },
    {
      "type": "select",
      "id": "card_style",
      "label": "Card Style",
      "options": [
        {
          "value": "minimal",
          "label": "Minimal"
        },
        {
          "value": "bordered",
          "label": "Bordered"
        },
        {
          "value": "elevated",
          "label": "Elevated (Shadow)"
        },
        {
          "value": "filled",
          "label": "Filled Background"
        }
      ],
      "default": "bordered"
    },
    {
      "type": "color",
      "id": "card_background",
      "label": "Card Background Color",
      "default": "rgba(255, 255, 255, 0.02)"
    },
    {
      "type": "color",
      "id": "card_border_color",
      "label": "Card Border Color",
      "default": "rgba(255, 255, 255, 0.1)"
    },
    {
      "type": "range",
      "id": "card_border_radius",
      "label": "Card Border Radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "default": 16,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "card_padding",
      "label": "Card Padding",
      "min": 20,
      "max": 60,
      "step": 5,
      "default": 40,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "subheading_color",
      "label": "Subheading Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "service_title_color",
      "label": "Service Title Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "service_description_color",
      "label": "Service Description Color",
      "default": "rgba(255, 255, 255, 0.8)"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text Alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "header",
      "content": "Animation & Effects"
    },
    {
      "type": "checkbox",
      "id": "enable_hover_effects",
      "label": "Enable Hover Effects",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "enable_animations",
      "label": "Enable Scroll Animations",
      "default": true
    },
    {
      "type": "select",
      "id": "animation_style",
      "label": "Animation Style",
      "options": [
        {
          "value": "fade-up",
          "label": "Fade Up"
        },
        {
          "value": "fade-in",
          "label": "Fade In"
        },
        {
          "value": "scale-up",
          "label": "Scale Up"
        },
        {
          "value": "slide-up",
          "label": "Slide Up"
        }
      ],
      "default": "fade-up"
    },
    {
      "type": "header",
      "content": "Section Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Top Padding",
      "min": 0,
      "max": 200,
      "step": 10,
      "default": 80,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Bottom Padding",
      "min": 0,
      "max": 200,
      "step": 10,
      "default": 80,
      "unit": "px"
    },
    {
      "type": "color",
      "id": "section_background",
      "label": "Section Background Color",
      "default": "rgba(255, 255, 255, 0.02)"
    }
  ],
  "blocks": [
    {
      "type": "service",
      "name": "Service",
      "settings": [
        {
          "type": "header",
          "content": "Service Content"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Service Title",
          "default": "Service Title"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Service Description",
          "default": "Describe your service here with compelling details that highlight the value you provide."
        },
        {
          "type": "url",
          "id": "link",
          "label": "Service Link",
          "info": "Optional link to service page or contact form"
        },
        {
          "type": "text",
          "id": "link_text",
          "label": "Link Text",
          "default": "Learn More"
        },
        {
          "type": "checkbox",
          "id": "link_new_tab",
          "label": "Open link in new tab",
          "default": false
        },
        {
          "type": "header",
          "content": "Icon Settings"
        },
        {
          "type": "select",
          "id": "icon_type",
          "label": "Icon Type",
          "options": [
            {
              "value": "emoji",
              "label": "Emoji"
            },
            {
              "value": "image",
              "label": "Custom Image"
            },
            {
              "value": "svg",
              "label": "SVG Code"
            },
            {
              "value": "text",
              "label": "Text/Symbol"
            }
          ],
          "default": "emoji"
        },
        {
          "type": "text",
          "id": "icon_emoji",
          "label": "Emoji Icon",
          "default": "🎨",
          "info": "Enter any emoji character"
        },
        {
          "type": "image_picker",
          "id": "icon_image",
          "label": "Icon Image"
        },
        {
          "type": "html",
          "id": "icon_svg",
          "label": "SVG Code",
          "info": "Paste your SVG code here"
        },
        {
          "type": "text",
          "id": "icon_text",
          "label": "Text/Symbol",
          "info": "Enter text or symbol to use as icon"
        },
        {
          "type": "color",
          "id": "icon_color",
          "label": "Icon Color",
          "default": "#667eea"
        },
        {
          "type": "range",
          "id": "icon_size",
          "label": "Icon Size",
          "min": 20,
          "max": 80,
          "step": 4,
          "default": 48,
          "unit": "px"
        },
        {
          "type": "header",
          "content": "Custom Styling"
        },
        {
          "type": "color",
          "id": "custom_background",
          "label": "Custom Card Background",
          "info": "Leave empty to use section default"
        },
        {
          "type": "color",
          "id": "custom_text_color",
          "label": "Custom Text Color",
          "info": "Leave empty to use section default"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Services Grid",
      "settings": {
        "heading": "Our Services",
        "subheading": "For brands that want more. More customers. More growth. More results.",
        "grid_columns_desktop": "3",
        "card_style": "bordered",
        "enable_hover_effects": true,
        "enable_animations": true
      },
      "blocks": [
        {
          "type": "service",
          "settings": {
            "title": "UX Design",
            "description": "Creating intuitive and engaging user experiences that convert visitors into customers.",
            "icon_emoji": "🎨",
            "icon_color": "#667eea"
          }
        },
        {
          "type": "service",
          "settings": {
            "title": "Development",
            "description": "Building robust, scalable ecommerce solutions with cutting-edge technology.",
            "icon_emoji": "💻",
            "icon_color": "#667eea"
          }
        },
        {
          "type": "service",
          "settings": {
            "title": "Shopify Plus Migration",
            "description": "Seamlessly migrating your store to Shopify Plus for enhanced performance.",
            "icon_emoji": "🚀",
            "icon_color": "#667eea"
          }
        },
        {
          "type": "service",
          "settings": {
            "title": "CRO",
            "description": "Optimizing your conversion rates through data-driven insights and testing.",
            "icon_emoji": "📈",
            "icon_color": "#667eea"
          }
        },
        {
          "type": "service",
          "settings": {
            "title": "SEO",
            "description": "Improving your search engine visibility and driving organic traffic.",
            "icon_emoji": "🔍",
            "icon_color": "#667eea"
          }
        },
        {
          "type": "service",
          "settings": {
            "title": "AI Consultancy",
            "description": "Leveraging artificial intelligence to enhance your ecommerce operations.",
            "icon_emoji": "🤖",
            "icon_color": "#667eea"
          }
        }
      ]
    }
  ]
}
{% endschema %}